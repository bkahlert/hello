<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"/>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0" name="viewport">
    <title>Playground</title>
    <link rel="shortcut icon"
          href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGFyaWEtbGFiZWw9IkhlbGxvISIgcm9sZT0iaW1nIiBjdXJzb3I9ImRlZmF1bHQiIHZpZXdCb3g9IjAgMCAxMjggMTI4Ij4KICAgIDxwYXRoIGZpbGw9IiNjMjFmNzMiCiAgICAgICAgICBkPSJtMTEsMTE1VjEzYzAtMi4yMSwxLjc5LTQsNC00aDE4YzIuMjEsMCw0LDEuNzksNCw0djM0YzAsMi4yMSwxLjc5LDQsNCw0aDM0YzIuMjEsMCw0LTEuNzksNC00VjEzYzAtMi4yMSwxLjc5LTQsNC00aDE4YzIuMjEsMCw0LDEuNzksNCw0djEwMmMwLDIuMjEtMS43OSw0LTQsNGgtMThjLTIuMjEsMC00LTEuNzktNC00di0zOWMwLTIuMjEtMS43OS00LTQtNGgtMzRjLTIuMiwwLTQsMS44LTQsNHYzOWMwLDIuMjEtMS43OSw0LTQsNEgxNWMtMi4yMSwwLTQtMS43OS00LTRaIi8+CiAgICA8ZyBmaWxsPSIjMjlhYWUyIj4KICAgICAgICA8cmVjdCB4PSI5MiIgeT0iOTMiIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiIgcng9IjQiIHJ5PSI0Ii8+CiAgICAgICAgPHBhdGggZD0ibTkxLjUsMTNjLS4yLTIuMzUsMi4xNi00LDQuNTItNGgtLjAyczE3LjQ5LDAsMTcuNDksMGMyLjM0LDAsNC4xOCwxLjk5LDMuOTksNC4zMi0xLjM0LDE2LjQtNC42Niw2NC4wNi00LjY2LDY0LjA2LS4xOSwyLjA1LTEuOTEsMy42Mi0zLjk3LDMuNjJoLTguNTJjLTIuMDUsMC0zLjc2LTEuNTUtMy45Ni0zLjU5LDAsMC0zLjQ3LTQ4LjMyLTQuODctNjQuNDEiLz4KICAgIDwvZz4KPC9zdmc+Cg=="/>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.5.0/semantic.min.css"
          integrity="sha512-KXol4x3sVoO+8ZsWPFI/r5KBVB/ssCGB5tsv2nVOKwLg33wTFP3fmnXa47FdSVIshVTgsYk/1734xSk9aFIa4A=="
          crossorigin="anonymous"
          referrerpolicy="no-referrer"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"
            integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.5.0/semantic.min.js"
            integrity="sha512-Xo0Jh8MsOn72LGV8kU5LsclG7SUzJsWGhXbWcYs2MAmChkQzwiW/yTQwdJ8w6UA9C6EVG18GHb/TrYpYCjyAQw=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="styles/site.css"/>
    <link rel="stylesheet" href="styles/app.css"/>
</head>
<body>
<script>
  /*
    cycle.js
    2021-05-31
    Public Domain.
    NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.
    This code should be minified before deployment.
    See https://www.crockford.com/jsmin.html
    USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO
    NOT CONTROL.
  */

  // The file uses the WeakMap feature of ES6.

  /*jslint eval */

  /*property
      $ref, decycle, forEach, get, indexOf, isArray, keys, length, push,
      retrocycle, set, stringify, test
  */

  if (typeof JSON.decycle !== 'function') {
    JSON.decycle = function decycle (object, replacer) {
      'use strict';

// Make a deep copy of an object or array, assuring that there is at most
// one instance of each object or array in the resulting structure. The
// duplicate references (which might be forming cycles) are replaced with
// an object of the form

//      {"$ref": PATH}

// where the PATH is a JSONPath string that locates the first occurance.

// So,

//      var a = [];
//      a[0] = a;
//      return JSON.stringify(JSON.decycle(a));

// produces the string '[{"$ref":"$"}]'.

// If a replacer function is provided, then it will be called for each value.
// A replacer function receives a value and returns a replacement value.

// JSONPath is used to locate the unique object. $ indicates the top level of
// the object or array. [NUMBER] or [STRING] indicates a child element or
// property.

      var objects = new WeakMap();     // object to path mappings

      return (function derez (value, path) {

// The derez function recurses through the object, producing the deep copy.

        var old_path;   // The path of an earlier occurance of value
        var nu;         // The new object or array

// If a replacer function was provided, then call it to get a replacement value.

        if (replacer !== undefined) {
          value = replacer(value);
        }

// typeof null === "object", so go on if this value is really an object but not
// one of the weird builtin objects.

        if (
          typeof value === 'object'
          && value !== null
          && !(value instanceof Boolean)
          && !(value instanceof Date)
          && !(value instanceof Number)
          && !(value instanceof RegExp)
          && !(value instanceof String)
        ) {

// If the value is an object or array, look to see if we have already
// encountered it. If so, return a {"$ref":PATH} object. This uses an
// ES6 WeakMap.

          old_path = objects.get(value);
          if (old_path !== undefined) {
            return { $ref: old_path };
          }

// Otherwise, accumulate the unique value and its path.

          objects.set(value, path);

// If it is an array, replicate the array.

          if (Array.isArray(value)) {
            nu = [];
            value.forEach(function (element, i) {
              nu[i] = derez(element, path + '[' + i + ']');
            });
          } else {

// If it is an object, replicate the object.

            nu = {};
            Object.keys(value).forEach(function (name) {
              nu[name] = derez(
                value[name],
                path + '[' + JSON.stringify(name) + ']'
              );
            });
          }
          return nu;
        }
        return value;
      }(object, '$'));
    };
  }
</script>
<div id="root" class="app">
    <div class="toolbar">
        <div class="links">
            <div class="ui olive inverted segment">
                Links <br> Links
            </div>
        </div>
        <div class="search">
            <div class="ui teal inverted segment">
                Search
            </div>
        </div>
        <div class="tasks">
            <div class="ui purple inverted segment">
                ClickUp
            </div>
        </div>
    </div>
    <div class="bookmarks dimmable">
        <div class="ui huge text inverted loader">Loading bookmarks â€¦</div>
        <div class="console ui container" style="mix-blend-mode: multiply; opacity: 0.9;">
        </div>
    </div>
</div>
<!--suppress JSUnresolvedVariable, JSUnresolvedFunction -->
<script>
  const _log = console.log;
  console.log = function () {
    let pre = document.createElement('pre');
    pre.classList.add('ui', 'inverted', 'segment');
    let code = document.createElement('code');
    code.textContent = Array.from(arguments).join(' ');
    pre.append(code);
    jQuery('.console').append(pre);
    _log(...arguments);
  };

  (function () {
    if (typeof JSON.decycle !== 'function') {
      JSON.decycle = function decycle (object, replacer) {
        'use strict';
        var objects = new WeakMap();
        return (function derez (value, path) {
          var old_path;
          var nu;
          if (replacer !== undefined) {
            value = replacer(value);
          }
          if (
            typeof value === 'object'
            && value !== null
            && !(value instanceof Boolean)
            && !(value instanceof Date)
            && !(value instanceof Number)
            && !(value instanceof RegExp)
            && !(value instanceof String)
          ) {
            old_path = objects.get(value);
            if (old_path !== undefined) {
              return { $ref: old_path };
            }
            objects.set(value, path);
            if (Array.isArray(value)) {
              nu = [];
              value.forEach(function (element, i) {
                nu[i] = derez(element, path + '[' + i + ']');
              });
            } else {
              nu = {};
              Object.keys(value).forEach(function (name) {
                nu[name] = derez(
                  value[name],
                  path + '[' + JSON.stringify(name) + ']'
                );
              });
            }
            return nu;
          }
          return value;
        }(object, '$'));
      };
    }

    if (typeof String !== undefined && typeof String._$_trimIndent_$_ !== 'function') {
      String.prototype._$_trimIndent_$_ = function () {
        const lines = this.split('\n').map((line) => line.replace('\t', '  '));
        let minIndent = Math.min(...lines.slice(1).map((line) => line.search(/\S|$/)));
        return minIndent === 0 ? String(this) : String(lines.slice(1).reduce((acc, line) => acc + '\n' + line.substring(minIndent), lines[0]));
      };
    }
    if (typeof String._$_indent_$_ !== 'function') {
      String.prototype._$_indent_$_ = function (space) {
        return String(this.split('\n').reduce((acc, line, i) => acc + (i === 0 ? '' : '\n') + space + line, ''));
      };
    }
    if (typeof Object !== undefined) {
      Object.prototype.toString = function () { return JSON.stringify(JSON.decycle(this), null, '  ')._$_trimIndent_$_(); };
    }
    if (typeof Array !== undefined) {
      Array.prototype.toString = function () { return this.reduce((acc, el, i, a) => acc + '\n' + el.toString()._$_indent_$_('  ') + (i === a.length - 1 ? '' : ','), '[') + '\n]'; };
    }
    if (typeof Element !== undefined) {
      Element.prototype.toString = function () { return this.outerHTML._$_trimIndent_$_(); };
    }
    if (typeof jQuery !== undefined) {
      jQuery.prototype.toString = function () { return this.toArray().toString(); };
    }
  })();

  // el.outerHTML || el.toString()
  const foo = { foo: 'bar', 'baz': null };
  console.log('string');
  // console.log('foo', '\n', foo);
  // console.log('foo stringified', '\n', JSON.stringify(foo));
  // console.log('foo decycled and stringified', '\n', JSON.stringify(JSON.decycle(foo)));
  // console.log('foo decycled and stringified with tab', '\n', JSON.stringify(JSON.decycle(foo), null, '\t'));
  console.log('foo toString', foo.toString());
  console.log('array toString', Array(foo, foo).toString());
  console.log('.toolbar toString', document.querySelector('.toolbar').toString());
  console.log('jQuery(.toolbar) toString', jQuery('.toolbar').toString());
  console.log('jQuery toString', jQuery('div').toString());
  console.log('RegExp', RegExp('test').toString());
</script>
</body>
</html>
<!--
"function"!=typeof JSON.decycle&&(JSON.decycle=function t(n,e){"use strict";var i=new WeakMap;return function t(n,r){var o,c;return(void 0!==e&&(n=e(n)),"object"!=typeof n||null===n||n instanceof Boolean||n instanceof Date||n instanceof Number||n instanceof RegExp||n instanceof String)?n:void 0!==(o=i.get(n))?{$ref:o}:(i.set(n,r),Array.isArray(n)?(c=[],n.forEach(function(n,e){c[e]=t(n,r+"["+e+"]")})):(c={},Object.keys(n).forEach(function(e){c[e]=t(n[e],r+"["+JSON.stringify(e)+"]")})),c)}(n,"$")}),"function"!=typeof String.trimIndent&&(String.prototype.trimIndent=function(){let t=this.split("\n").map(t=>t.replace("	","  ")),n=Math.min(...t.slice(1).map(t=>t.search(/\S|$/)));return 0===n?String(this):String(t.slice(1).reduce((t,e)=>t+"\n"+e.substring(n),t[0]))}),"function"!=typeof String.indent&&(String.prototype.indent=function(t){return String(this.split("\n").reduce((n,e,i)=>n+(0===i?"":"\n")+t+e,""))}),String.prototype.toString=function(){return this},Object.prototype.toString=function(){return JSON.stringify(JSON.decycle(this),null,"  ").trimIndent()},Array.prototype.toString=function(){return this.reduce((t,n,e,i)=>t+"\n"+n.toString().indent("  ")+(e===i.length-1?"":","),"[")+"\n]"},Element.prototype.toString=function(){return this.outerHTML.trimIndent()},jQuery.prototype.toString=function(){return this.toArray().toString()};
-->
